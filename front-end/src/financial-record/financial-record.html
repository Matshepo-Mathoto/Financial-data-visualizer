<div class="max-w-6xl mx-auto p-4">
  <h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">Finance Data Upload</h1>

  <!-- File Upload Section -->
  <div class="mb-8">
    <app-file-upload
      [isLoading]="isLoading"
      (fileSelected)="onFileSelected($event)"
      (submit)="submitFile()">
    </app-file-upload>
  </div>

  <!-- Loading Indicator -->
  <div *ngIf="isLoading" class="text-center py-8">
    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div>
    <p class="mt-2 text-gray-600">Processing your file...</p>
  </div>

  <!-- Finance Data Display -->
  <div *ngIf="userFinance && !isLoading" class="bg-white rounded-xl shadow-md p-6">
    <h2 class="text-2xl font-semibold mb-6 text-gray-800">
      {{ userFinance.username }} - {{ userFinance.year }}
    </h2>

  

    <!-- Chart Section -->
    <div class="mb-8">
      <h3 class="text-lg font-semibold mb-4 text-gray-700">Monthly Overview</h3>
      <app-chart [userFinance]="userFinance"></app-chart>
    </div>

    <!-- Data Table -->
    <div>
      <h3 class="text-lg font-semibold mb-4 text-gray-700">Detailed Records</h3>
      <app-table [records]="userFinance.records" [parseFloatFn]="parseFloat.bind(this)" [getMonthNameFn]="getMonthName.bind(this)"></app-table>
    </div>
  </div>
</div>
